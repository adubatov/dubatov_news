
<!-- templates/article_list.html -->
{% extends 'base.html' %}

{% block title %}Articles{% endblock title %}

{% block content %}
<div class="row align-items-center justify-content-end">
    <div class="col"><h1>Newspaper project</h1></div>
    {% if user.is_authenticated %}
    <div class="col-2 justify-content-end"><a class="btn btn-secondary" href="{% url 'news_create' %}">+ Create new</a></div>
    {% endif %}
</div>
    {% if object_list %}
        {% for article in object_list %}
            <article class="card">
                <div class="card-header">
                    <span class="font-weight-bold"><a href="{% url 'news_detail' article.pk %}">{{ article.title }}</a></span> &middot;
                    <small class="text-muted">Автор: <a class="text-muted" href="#">{{ article.author }}</a></small> &middot;
                    <small class="text-muted">{{ article.pub_date }}</small>
                </div>
                <div class="card-body">
                    {{ article.body }}
                </div>
                {% if user.is_authenticated and user == article.author or user.is_staff %}
                <div class="card-footer text-muted">
                    <a href="{% url 'news_update' article.pk %}">Edit</a> |
                    <a href="{% url 'news_delete' article.pk %}">Delete</a>
                </div>
                {% endif %} 
            </article>
            <br>
        {% endfor %}
    {% else %}
        No articles yet
    {% endif %}
{% endblock content %}